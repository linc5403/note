<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-06 Fri 11:21 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="lin chuan" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org74e45ad">1. docker</a>
<ul>
<li><a href="#orgbccdced">1.1. linux下的安装</a>
<ul>
<li><a href="#org022764f">1.1.1. Step 1 apt-get install docker-ce</a></li>
<li><a href="#orgbd10842">1.1.2. Step 2 — Executing the Docker Command Without Sudo (Optional)</a></li>
<li><a href="#org9df9b68">1.1.3. Step 3 修改docker数据存储路径</a></li>
</ul>
</li>
<li><a href="#orgaee38dc">1.2. <span class="todo TODO">TODO</span> 国内仓库</a></li>
<li><a href="#orgcea2b84">1.3. 常用命令</a></li>
<li><a href="#org9f5e58b">1.4. 删除</a></li>
<li><a href="#org377417c">1.5. copy file</a></li>
</ul>
</li>
<li><a href="#orgd968375">2. docker-compose</a>
<ul>
<li><a href="#org28a4b4d">2.1. docker-compose</a></li>
<li><a href="#orgd16752c">2.2. compose 不退出</a></li>
<li><a href="#org32f28f9">2.3. docker-compose安装</a></li>
</ul>
</li>
<li><a href="#org1daef1c">3. <span class="todo TODO">TODO</span> docker-file</a></li>
</ul>
</div>
</div>
<div id="outline-container-org74e45ad" class="outline-2">
<h2 id="org74e45ad"><span class="section-number-2">1</span> docker</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgbccdced" class="outline-3">
<h3 id="orgbccdced"><span class="section-number-3">1.1</span> linux下的安装</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-org022764f" class="outline-4">
<h4 id="org022764f"><span class="section-number-4">1.1.1</span> Step 1 apt-get install docker-ce</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
The Docker installation package available in the official Debian repository may not be the latest version. To ensure we get the latest version, we'll install Docker from the official Docker repository. To do that, we'll add a new package source, add the GPG key from Docker to ensure the downloads are valid, and then install the package.
</p>

<p>
First, update your existing list of packages:
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo apt update   
</pre>
</div>

<p>
Next, install a few prerequisite packages which let apt use packages over HTTPS:  
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt install apt-transport-https ca-certificates curl gnupg2 software-properties-common
</pre>
</div>


<p>
Then add the GPG key for the official Docker repository to your system:  
</p>
<div class="org-src-container">
<pre class="src src-sh">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -
</pre>
</div>

<p>
Add the Docker repository to APT sources:  
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable"
</pre>
</div>

<p>
Next, update the package database with the Docker packages from the newly added repo:    
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt update
</pre>
</div>

<p>
Make sure you are about to install from the Docker repo instead of the default Debian repo:   
</p>
<div class="org-src-container">
<pre class="src src-sh">apt-cache policy docker-ce
</pre>
</div>

<p>
You'll see output like this, although the version number for Docker may be different:  
</p>
<pre class="example">
Output of apt-cache policy docker-ce
docker-ce:
  Installed: (none)
  Candidate: 18.06.1~ce~3-0~debian
  Version table:
     18.06.1~ce~3-0~debian 500
	500 https://download.docker.com/linux/debian stretch/stable amd64 Packages
</pre>

<p>
Notice that <code>docker-ce</code> is not installed, but the candidate for installation is from the Docker repository for Debian 9 (stretch).
</p>

<p>
Finally, install Docker:
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo apt install docker-ce
</pre>
</div>

<p>
Docker should now be installed, the daemon started, and the process enabled to start on boot. Check that it's running:  
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo systemctl status docker
</pre>
</div>

<p>
The output should be similar to the following, showing that the service is active and running:  
</p>
<pre class="example">
Output
● docker.service - Docker Application Container Engine
   Loaded: loaded (/lib/systemd/system/docker.service; enabled; vendor preset: enabled)
   Active: active (running) since Thu 2018-07-05 15:08:39 UTC; 2min 55s ago
     Docs: https://docs.docker.com
  Main PID: 21319 (dockerd)
   CGroup: /system.slice/docker.service
	   ├─21319 /usr/bin/dockerd -H fd://
	   └─21326 docker-containerd --config /var/run/docker/containerd/containerd.toml
</pre>

<p>
Installing Docker now gives you not just the Docker service (daemon) but also the docker command line utility, or the Docker client. We'll explore how to use the docker command later in this tutorial.
</p>
</div>
</div>

<div id="outline-container-orgbd10842" class="outline-4">
<h4 id="orgbd10842"><span class="section-number-4">1.1.2</span> Step 2 — Executing the Docker Command Without Sudo (Optional)</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
<b>只有docker group的用户和root用户才能执行docker命令</b>
</p>

<p>
By default, the docker command can only be run the root user or by a user in the docker group, which is automatically created during Docker's installation process. If you attempt to run the docker command without prefixing it with sudo or without being in the docker group, you'll get an output like this:
</p>
<pre class="example">
Output
docker: Cannot connect to the Docker daemon. Is the docker daemon running on this host?
See 'docker run --help'.
</pre>

<p>
If you want to avoid typing sudo whenever you run the docker command, add your username to the docker group:
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo usermod -aG docker ${USER}
</pre>
</div>

<p>
To apply the new group membership, log out of the server and back in, or type the following:
</p>
<div class="org-src-container">
<pre class="src src-sh">su - ${USER}
</pre>
</div>

<p>
You will be prompted to enter your user's password to continue.  
</p>

<p>
Confirm that your user is now added to the docker group by typing:  
</p>
<div class="org-src-container">
<pre class="src src-sh">id -nG
</pre>
</div>

<p>
Output  
</p>
<pre class="example">
sammy sudo docker
</pre>

<p>
If you need to add a user to the docker group that you're not logged in as, declare that username explicitly using:
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo usermod -aG docker username
</pre>
</div>

<p>
The rest of this article assumes you are running the docker command as a user in the docker group. If you choose not to, please prepend the commands with sudo.
</p>

<p>
Let's explore the docker command next.   
</p>
</div>

<ol class="org-ol">
<li><a id="orgc9787d8"></a>在tmux中将当前用户加入docker group<br />
<div class="outline-text-5" id="text-1-1-2-1">
<ol class="org-ol">
<li><p>
将用户hunch加入docker group中
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo usermod -aG docker hunch
</pre>
</div></li>
<li><p>
刷新当前session
</p>
<div class="org-src-container">
<pre class="src src-sh">newgrp docker
</pre>
</div></li>
</ol>

<p>
Horribly hacky, but you could use two layers of newgrp to achieve this for a particular group:
</p>
<div class="org-src-container">
<pre class="src src-sh">id -g
</pre>
</div>

<p>
&#x2026;will give you the current primary group ID. We'll call this orig<sub>group</sub> for the purposes of this example. Then:
</p>
<div class="org-src-container">
<pre class="src src-sh">newgrp &lt;new group name&gt;  
</pre>
</div>

<p>
&#x2026;will switch you to that group as the primary and add it to the list of groups returned by groups or id -G. Now, a further:
</p>
<div class="org-src-container">
<pre class="src src-sh">newgrp &lt;orig_group&gt;
</pre>
</div>

<p>
&#x2026;will get you a shell in which you can see the new group and the primary is the original one.
</p>

<p>
This is horrible and will only get you one group added at a time, but it has helped me out a couple of times to get groups added without logging out/in my whole X session (e.g. to get fuse added as a group to a user so that sshfs will work).
</p>

<p>
Edit : This doesn't require you to type your password either, which su will.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org9df9b68" class="outline-4">
<h4 id="org9df9b68"><span class="section-number-4">1.1.3</span> Step 3 修改docker数据存储路径</h4>
<div class="outline-text-4" id="text-1-1-3">
<ol class="org-ol">
<li><p>
<code>/etc/docker/daemon.json</code>
</p>
<div class="org-src-container">
<pre class="src src-json">{
  "data-root": "/data/docker"
}
</pre>
</div></li>

<li><p>
已有数据同步到 <code>/data/docker</code>
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo rsync -axPS /var/lib/docker/ /data/docker
</pre>
</div></li>

<li><p>
重启docker
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo systemctl stop docker
sudo systemctl start docker
sudo systemctl restart docker
</pre>
</div></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgaee38dc" class="outline-3">
<h3 id="orgaee38dc"><span class="section-number-3">1.2</span> <span class="todo TODO">TODO</span> 国内仓库</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<code>/etc/docker/daemon.json</code>
</p>
<div class="org-src-container">
<pre class="src src-json">{
  "registry-mirrors": ["https://registry.docker-cn.com"]
}

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcea2b84" class="outline-3">
<h3 id="orgcea2b84"><span class="section-number-3">1.3</span> 常用命令</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">
<pre class="src src-sh">docker info | grep 'Docker Root Dir'
docker rmi
docker rm
docker search
docker run
docker pull
docker commit -m "added Node.js" -a "sammy" d9b100f2f636 sammy/ubuntu-nodejs
docker run -dit --name os centos
docker exec -it CONTAINER_ID sh
docker build -f /path/to/dockerfile -t nginx:v3 .
docker build -f ~/docker/p3_web/Dockerfile -t linchuan/p3-web /data/code
docker build [选项] &lt;上下文路径/URL/-&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f5e58b" class="outline-3">
<h3 id="org9f5e58b"><span class="section-number-3">1.4</span> 删除</h3>
<div class="outline-text-3" id="text-1-4">
<pre class="example">
docker image prune
docker container prune
docker system prune -a
docker system df
</pre>
</div>
</div>

<div id="outline-container-org377417c" class="outline-3">
<h3 id="org377417c"><span class="section-number-3">1.5</span> copy file</h3>
<div class="outline-text-3" id="text-1-5">
<div class="org-src-container">
<pre class="src src-sh">docker cp /opt/test/file.txt mycontainer：/opt/testnew/
docker cp mycontainer：/opt/testnew/file.txt /opt/test/
</pre>
</div>

<p>
<a href="docker.html">返回</a>
</p>
</div>
</div>
</div>

<div id="outline-container-orgd968375" class="outline-2">
<h2 id="orgd968375"><span class="section-number-2">2</span> docker-compose</h2>
<div class="outline-text-2" id="text-2">
<pre class="example">
docker-compose up #启动所有容器 
docker-compose up -d #后台启动并运行所有容器 
docker-compose up --no-recreate -d #不重新创建已经停止的容器 
docker-compose up -d test2 #只启动test2这个容器 
docker-compose stop #停止容器 
docker-compose start #启动容器 
docker-compose down #停止并销毁容器
</pre>
</div>

<div id="outline-container-org28a4b4d" class="outline-3">
<h3 id="org28a4b4d"><span class="section-number-3">2.1</span> docker-compose</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-yaml">version: "0.1"
services:
  test1: 
    image: "10.8.52.225:5000/base:v1.2.1_autoserver" 
    ports: 
      - "1022:22" 
      - "1080:80" 
    volumes: 
      - /work/test1:/work 
    dns: 
      - 10.1.2.9 
      - 10.1.2.70 
    hostname: test1 
  test2: 
    image: "10.8.52.225:5000/base:v1.2.1_autoserver" 
    ports: 
      - "1023:22" 
    volumes: 
      - /work/test2:/work 
    dns: 10.1.2.9 
    hostname: test2 
    links: 
      - els1:db
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd16752c" class="outline-3">
<h3 id="orgd16752c"><span class="section-number-3">2.2</span> compose 不退出</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Docker镜像的缺省命令是 <code>bash~，如果不加 ~-it</code>, <code>bash</code> 命令执行了自动会退出，加 <code>it</code> 后 <code>docker</code> 命令会为容器分配一个伪终端，并接管其 <code>stdin/stdout</code> 支持交互操作，这时候 <code>bash</code> 命令不会自动退出
</p>

<p>
像不使用 <code>docker-compose</code>,我们会执行类似如下的命令
</p>
<div class="org-src-container">
<pre class="src src-sh">docker run -it --name node node
</pre>
</div>

<p>
但 <code>docker-compose</code> 需要额外配置下
</p>

<p>
需要在 <code>docker-compose.yml</code> 中包含以下行:
</p>
<pre class="example">
stdin_open: true  
tty: true  
</pre>

<p>
第一个对应于 <code>docker run</code> 中的 <code>-i</code> ,第二个对应于 <code>-t</code> 。
</p>
</div>
</div>

<div id="outline-container-org32f28f9" class="outline-3">
<h3 id="org32f28f9"><span class="section-number-3">2.3</span> docker-compose安装</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li><p>
install
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo curl -L "https://github.com/docker/compose/releases/download/1.23.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
</pre>
</div>

<p>
上面的版本号参考:<a href="https://github.com/docker/compose/releases">https://github.com/docker/compose/releases</a>
</p></li>
<li><p>
zsh自动补全
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir -p ~/.zsh/completion
curl -L https://raw.githubusercontent.com/docker/compose/1.23.2/contrib/completion/zsh/_docker-compose &gt; ~/.zsh/completion/_docker-compose
</pre>
</div>

<p>
<code>.zshrc</code> 文件中增加下面两行:
</p>
<pre class="example">
fpath=(~/.zsh/completion $fpath)
autoload -Uz compinit &amp;&amp; compinit -i
</pre></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org1daef1c" class="outline-2">
<h2 id="org1daef1c"><span class="section-number-2">3</span> <span class="todo TODO">TODO</span> docker-file</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: lin chuan</p>
<p class="date">Created: 2020-03-06 Fri 11:21</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
